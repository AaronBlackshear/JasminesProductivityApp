{"version":3,"file":"static/webpack/static/development/pages/index.js.be7d8bd4d639182d6531.hot-update.js","sources":["webpack:///./components/Calendar.js"],"sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Calendar } from 'antd'\nimport moment from 'moment';\nimport EventsModal from './CalendarComponents/EventsModal'\nimport '../css/calendar.css'\nimport changeCalendarNames from '../utils/changeCalendarNames'\nimport { getAllEvents } from '../redux/reducers/calendarReducer'\nimport setCalendarEvents from \"../utils/setCalendarEvents\";\n\nconst monthNames = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\"\n]\n\nclass CalendarComponent extends Component {\n  state = {\n    currentYear: null,\n    currentMonth: null,\n    currentDate: null,\n    selectedDate: null,\n    showModal: false,\n  }\n\n  componentDidMount() {\n    const { dispatch } = this.props;\n    const currentUser = JSON.parse(localStorage.getItem('user'));\n    changeCalendarNames()\n    this.changeDate(moment(Date.now()));\n    dispatch(getAllEvents(currentUser.userIdentifier))\n  }\n\n  changeDate = value => {\n    this.setState({\n      currentYear: value.year(),\n      currentMonth: value.month() + 1,\n      currentDate: value.date(),\n      selectedDate: value.format(\"MM-DD-YYYY\"),\n    })\n  }\n\n  toggleModal = bool => {\n    this.setState({ showModal: bool })\n  }\n\n  render() {\n    const { currentMonth, currentYear, showModal, selectedDate } = this.state\n    const { calendar, dispatch } = this.props;\n\n    const dateCellRender = value => {\n      setCalendarEvents(value.date(), currentMonth);\n    }\n\n    return (\n      <div>\n        <h1>\n          <span>{monthNames[currentMonth - 1]}</span>\n          <span>{currentYear}</span>\n        </h1>\n        <EventsModal\n          visible={showModal}\n          toggleModal={this.toggleModal}\n          selectedDate={selectedDate}\n        />\n        <Calendar\n          dateCellRender={dateCellRender}\n          onChange={e => this.changeDate(e)}\n          onSelect={e => (this.changeDate(e), this.toggleModal(true))}\n        />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({ calendar: state.calendarReducer });\n\nexport default connect(mapStateToProps)(CalendarComponent);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAcA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AACA;AAeA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;;;;;AApBA;AAAA;AAEA;AACA;AACA;AACA;AACA;;;AAeA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;;;;AAxDA;AACA;AA0DA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;A","sourceRoot":""}